@model HotelReservation.Models.Room

<h2>Room Details</h2>

<div class="container mt-4">
    <div class="row">
        <!-- Images on the left side -->
        <div class="col-md-6">
            <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="@Model.PictureUrl1" class="d-block w-100" alt="First Picture">
                    </div>
                    <div class="carousel-item">
                        <img src="@Model.PictureUrl2" class="d-block w-100" alt="Second Picture">
                    </div>
                    <div class="carousel-item">
                        <img src="@Model.PictureUrl3" class="d-block w-100" alt="Third Picture">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>

        <!-- Information on the right side -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Room @Model.RoomNumber</h5>
                    <p class="card-text">
                        Type: @Model.Type <br />
                        Description: @Model.Description <br />
                        Capacity: @Model.Capacity <br />
                        Price: @Model.Price <br />
                        Available: @Model.Available
                    </p>
                </div>
            </div>

            <!-- Date Pickers -->
            <div class="mt-4">
                <label for="fromDate">From Date:</label>
                <input type="date" id="fromDate" name="fromDate" min="@DateTime.Now.ToString("yyyy-MM-dd")">

                <label for="toDate" class="ml-4">To Date:</label>
                <input type="date" id="toDate" name="toDate" min="@DateTime.Now.ToString("yyyy-MM-dd")">

                <button id="reserveButton" class="btn btn-primary ml-4">Reserve Room</button>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('#reserveButton').on('click', function () {
            var fromDate = $('#fromDate').val();
            var toDate = $('#toDate').val();

            // Send the selected dates to the server for reservation
            $.ajax({
                type: 'POST',
                url: '/Room/ReserveRoom',
                data: { roomId: @Model.RoomId, fromDate: fromDate, toDate: toDate },
                success: function (result) {
                    // Handle success, e.g., show a success message
                    console.log(result);
                },
                error: function (error) {
                    // Handle error, e.g., show an error message
                    console.error(error);
                }
            });
        });
    });
</script>